import{d as e,v as t,af as s,r as a,a as l,o as r,c as i,w as n,b as o,e as u,f as c,k as f,t as d,a3 as p,h as m,F as _,N as x,O as y,n as b,b1 as g,j as k,s as v,a4 as h,a_ as j,x as w,p as C}from"./index.ff1c4658.js";import{_ as z}from"./u-icon.5d484aeb.js";import{_ as U}from"./u-button.8f2dbf84.js";import{a as $,t as V}from"./tabs.d2cc7fe2.js";import{_ as q}from"./z-paging.03bb45d3.js";import{a as I,b as N,c as Q}from"./question_bank.8f3eb919.js";import{_ as T}from"./payPop.a388dfc3.js";import{_ as B}from"./tabbar.40a1c6d5.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-badge.b80b9ef4.js";import"./u-sticky.d8c10386.js";import"./useTouch.e83eb469.js";import"./u-popup.bf379202.js";const L=e({__name:"QBLIst",props:{category_id:{type:Number,default:-1}},emits:["toUnlock"],setup(e,{emit:v}){const h=e,j=t(null),w=t([]),C=async(e,t)=>{x({title:"加载中..."});const s=await I({page_no:e,page_size:t,category_id:h.category_id});j.value.complete(s.lists),y()},U=e=>{b({url:`/bundle/pages/do_exercises/index?id=${e}`})};return s((()=>h.category_id),(async()=>{await g(),j.value.reload()}),{deep:!0}),(e,t)=>{const s=a(l("u-icon"),z),x=k,y=a(l("z-paging"),q);return r(),i(x,{class:"mt-[21rpx] h-full"},{default:n((()=>[o(y,{ref_key:"paging",ref:j,modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),onQuery:C,fixed:!1,height:"100%"},{default:n((()=>[(r(!0),u(_,null,c(w.value,((e,t)=>(r(),i(x,{class:"flex items-center py-[20rpx]",key:t},{default:n((()=>[o(x,{class:"bg-primary rounded-full flex items-center justify-center w-[60rpx] h-[60rpx]"},{default:n((()=>[o(s,{size:"34",color:"#ffffff",name:"edit-pen"})])),_:1}),o(x,{class:"ml-[20rpx] flex-1"},{default:n((()=>[o(x,{class:"font-medium text-base"},{default:n((()=>[f(d(e.name),1)])),_:2},1024),o(x,{class:"flex mt-[14rpx]"},{default:n((()=>[o(s,{size:"34",color:"#888888",name:"edit-pen"}),p("div",{class:"text-[#888888]"},d(e.finish_num)+"/"+d(e.topic_num)+"题 ",1)])),_:2},1024)])),_:2},1024),1==e.btn_status?(r(),i(x,{key:0,class:"flex items-center"},{default:n((()=>[o(x,{class:"text-primary mr-2",onClick:t=>U(e.id)},{default:n((()=>[f("开始答题")])),_:2},1032,["onClick"]),o(s,{name:"arrow-right",color:"#888888"})])),_:2},1024)):m("v-if",!0),2==e.btn_status?(r(),i(x,{key:1,class:"flex items-center",onClick:t=>U(e.id)},{default:n((()=>[o(x,{class:"text-primary mr-2"},{default:n((()=>[f("继续答题")])),_:1}),o(s,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0),3==e.btn_status?(r(),i(x,{key:2,class:"flex items-center",onClick:t=>{return s=e.id,void b({url:`/bundle/pages/answer_report/index?id=${s}`});var s}},{default:n((()=>[o(x,{class:"text-primary mr-2"},{default:n((()=>[f("查看报告")])),_:1}),o(s,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0),4==e.btn_status?(r(),i(x,{key:3,class:"flex items-center",onClick:t=>{v("toUnlock",e)}},{default:n((()=>[o(x,{class:"text-primary mr-2"},{default:n((()=>[f("解锁答题")])),_:1}),o(s,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})}}});var O=F(e({__name:"index",setup(e){const s=t([]),x=t(0),y=v(),g=h({count:0,lists:[]}),q=async e=>{x.value=e},I=e=>{b({url:`/bundle/pages/do_exercises/index?id=${e}`})},F=()=>{b({url:"/bundle/pages/my_question_bank/index"})},O=e=>{y.value.open(e)};return j((()=>{(async()=>{s.value=await N()})()})),w((()=>{(async()=>{const{count:e,lists:t}=await Q();g.count=e,g.lists=t})()})),(e,t)=>{const v=k,h=C,j=a(l("u-icon"),z),w=a(l("u-button"),U);return r(),u(_,null,[o(v,{class:"pt-[20rpx] px-[20rpx] flex flex-col pageContainer"},{default:n((()=>[o(v,{class:"bg-white rounded-lg p-[20rpx]"},{default:n((()=>[o(v,{class:"flex justify-between"},{default:n((()=>[o(v,{class:"font-medium text-[32rpx] title"},{default:n((()=>[f("我的题库")])),_:1}),o(v,{class:"text-[#888888] flex items-center",onClick:F},{default:n((()=>[o(h,null,{default:n((()=>[f("全部")])),_:1}),o(h,{class:"ml-1 mr-1"},{default:n((()=>[f(d(g.count),1)])),_:1}),o(j,{name:"arrow-right"})])),_:1})])),_:1}),g.lists.length?(r(),i(v,{key:0,class:"pt-[34rpx] flex"},{default:n((()=>[o(v,{class:"flex-1"},{default:n((()=>[o(v,{class:"font-medium text-base"},{default:n((()=>[f(d(g.lists[0].name),1)])),_:1}),o(v,{class:"flex mt-[14rpx]"},{default:n((()=>[o(j,{size:"34",color:"#888888",name:"edit-pen"}),p("div",{class:"text-[#888888]"},d(g.lists[0].finish_num)+"/"+d(g.lists[0].topic_num)+"题 ",1)])),_:1})])),_:1}),1==g.lists[0].btn_status?(r(),i(w,{key:0,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[0]||(t[0]=e=>I(g.lists[0].id))},{default:n((()=>[f("开始答题")])),_:1})):m("v-if",!0),2==g.lists[0].btn_status?(r(),i(w,{key:1,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[1]||(t[1]=e=>I(g.lists[0].id))},{default:n((()=>[f("继续答题")])),_:1})):m("v-if",!0),3==g.lists[0].btn_status?(r(),i(w,{key:2,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[2]||(t[2]=e=>{return t=g.lists[0].id,void b({url:`/bundle/pages/answer_report/index?id=${t}`});var t})},{default:n((()=>[f("查看报告")])),_:1})):m("v-if",!0),4==g.lists[0].btn_status?(r(),i(w,{key:3,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[3]||(t[3]=e=>O(g.lists[0]))},{default:n((()=>[f("立即解锁")])),_:1})):m("v-if",!0)])),_:1})):(r(),u("div",{key:1,class:"py-[50rpx] text-center text-info"},"暂无任何题库~"))])),_:1}),o(v,{class:"bg-white rounded-lg p-[20rpx] mt-[20rpx] flex-1 flex flex-col"},{default:n((()=>[o(v,{class:"flex justify-between"},{default:n((()=>[o(v,{class:"font-medium text-[32rpx] title"},{default:n((()=>[f("题库列表")])),_:1})])),_:1}),o(v,{class:"flex-1 flex flex-col"},{default:n((()=>[o(v,{class:"flex-none"},{default:n((()=>[o($,{onChange:q},{default:n((()=>[(r(!0),u(_,null,c(s.value,((e,t)=>(r(),i(V,{key:t,name:e.name},null,8,["name"])))),128))])),_:1})])),_:1}),o(v,{class:"flex-1"},{default:n((()=>{var e;return[o(L,{category_id:null==(e=s.value[x.value])?void 0:e.id,onToUnlock:O},null,8,["category_id"])]})),_:1})])),_:1})])),_:1})])),_:1}),o(T,{ref_key:"popRef",ref:y},null,512),o(B)],64)}}}),[["__scopeId","data-v-253a4203"]]);export{O as default};
