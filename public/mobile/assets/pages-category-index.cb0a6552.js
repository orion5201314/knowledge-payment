import{d as a,r as e,a as s,y as l,z as t,o as r,c as n,w as o,b as c,e as u,f as d,k as i,t as p,F as f,n as m,j as x,v as b,s as g,ah as h,h as _,q as v,C as w}from"./index.ff1c4658.js";import{_ as y}from"./search.964ba0c3.js";import{_ as j}from"./z-paging.03bb45d3.js";import{_ as k}from"./tabbar.40a1c6d5.js";import{_ as C}from"./u-image.85f4d24b.js";import{c as D}from"./store.1bdd0081.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.5d484aeb.js";import"./u-badge.b80b9ef4.js";const V=a({__name:"card",props:{cateData:{default:{id:0,name:"",course_num:"",image:"",pid:"",status:0,create_time:""}}},setup:a=>(b,g)=>{const h=e(s("u-image"),C),_=x;return l((r(),n(_,{class:"mb-[20rpx] rounded-md pb-[20rpx] bg-white"},{default:o((()=>[c(_,{class:"pt-[26rpx] text-xs"},{default:o((()=>[(r(!0),u(f,null,d(a.cateData,(a=>(r(),n(_,{key:a.id,class:"pt-[26rpx] w-[176rpx] inline-block mb-[20rpx]",onClick:e=>{return s=`/bundle/pages/search/index?id=${a.id}&name=${a.name}`,void m({url:s});var s}},{default:o((()=>[c(_,{class:"flex justify-center"},{default:o((()=>[c(h,{src:a.image,width:"120",height:"120",borderRadius:"50%"},null,8,["src"])])),_:2},1024),c(_,{class:"mt-[20rpx] text-center line-1"},{default:o((()=>[i(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},512)),[[t,a.cateData.length]])}});var $=z(a({__name:"index",setup(a){const l=b([]),t=b([]),m=b(0),C=g(),z=async(a,e)=>{try{C.value.complete(t.value[m.value].sons)}catch(s){console.log("报错=>",s),C.value.complete(!1)}};return h((async()=>{await(async()=>{const{lists:a}=await D();t.value=a,console.log(t.value)})(),C.value.reload()})),(a,b)=>{const g=e(s("w-search"),y),h=x,D=v,$=e(s("z-paging"),j),q=e(s("tabbar"),k);return r(),n(h,{class:"container"},{default:o((()=>[_(' <view class="px-[16rpx] py-[24rpx] bg-white" @click="goPage(\'/bundle/pages/search/index\')">\r\n            <u-search\r\n                :show-action="false"\r\n                placeholder="请输入搜索内容"\r\n                height="70"\r\n                disabled\r\n            ></u-search>\r\n        </view> '),c(g),c(h,{class:"main flex"},{default:o((()=>[c(h,{class:"w-full h-full flex"},{default:o((()=>[c(D,{"scroll-y":"true",class:"box-border w-[235rpx] pt-[10rpx] h-full bg-white"},{default:o((()=>[(r(!0),u(f,null,d(t.value,((a,e)=>(r(),n(h,{key:a.id,class:w(["w-[180rpx] px-2 py-3 w-full text-[#555] text-center text-base",{active:e===m.value}]),onClick:a=>(a=>{m.value=a,console.log(a),C.value.reload()})(e)},{default:o((()=>[i(p(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),c(h,{class:"w-full"},{default:o((()=>[c($,{ref_key:"paging",ref:C,modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=a=>l.value=a),onQuery:z,fixed:!1,height:"100%","show-loading-more-no-more-view":!1},{default:o((()=>[_(" Content Start "),c(h,{class:"px-[20rpx] py-[20rpx] w-full h-full"},{default:o((()=>[l.value.length?(r(),n(V,{key:0,cateData:l.value},null,8,["cateData"])):_("v-if",!0)])),_:1}),_(" Content End ")])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),c(q)])),_:1})}}}),[["__scopeId","data-v-0565d050"]]);export{$ as default};
