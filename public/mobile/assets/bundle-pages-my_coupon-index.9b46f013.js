import{d as a,v as e,ah as s,o as l,c as o,w as t,b as n,e as u,f as r,F as d,b1 as i,j as c,r as p,a as m}from"./index.ff1c4658.js";import{_ as f}from"./z-paging.03bb45d3.js";import{a as v,t as y}from"./tabs.d2cc7fe2.js";import{c as _}from"./index.e15fd941.js";import{e as b}from"./coupon.90fa295d.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-badge.b80b9ef4.js";import"./u-sticky.d8c10386.js";import"./useTouch.e83eb469.js";import"./u-icon.5d484aeb.js";import"./index.025f3805.js";var j=(a=>(a[a.normal=0]="normal",a[a.use=1]="use",a[a.invalid=2]="invalid",a))(j||{});var x=g(a({__name:"index",setup(a){const g=e([]),x=e(1),h=e(null),k=e({normal:{name:"可使用",count:0,type:1},use:{name:"已使用",count:0,type:2},invalid:{name:"已过期",count:0,type:3}}),w=async a=>{x.value=k.value[j[a]].type,await i(),h.value.reload()},V=async(a,e)=>{try{const{lists:s,extend:l}=await b({page_no:a,page_size:e,status:x.value});Object.keys(l).map((a=>{k.value[a].count=l[a]})),console.log(s),h.value.complete(s)}catch(s){h.value.complete(!1)}};return s((()=>{})),(a,e)=>{const s=c,i=p(m("z-paging"),f);return l(),o(s,null,{default:t((()=>[n(v,{"is-scroll":!1,onChange:w},{default:t((()=>[(l(!0),u(d,null,r(k.value,((a,e,s)=>(l(),o(y,{key:s,name:`${a.name}(${a.count})`},null,8,["name"])))),128))])),_:1}),n(s,{class:"scrollView"},{default:t((()=>[n(i,{ref_key:"paging",ref:h,modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=a=>g.value=a),onQuery:V,height:"100%",fixed:!1},{default:t((()=>[(l(!0),u(d,null,r(g.value,((a,e)=>(l(),o(s,{class:"px-[30rpx] my-[15rpx]",key:e},{default:t((()=>[n(_,{type:1,"coupon-data":a,disabled:1!=x.value,isPageMC:!0},null,8,["coupon-data","disabled"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-0c2b053c"]]);export{x as default};
